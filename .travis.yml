language: python
python:
    - 2.7

os:
    - linux
    - osx

before_install:
    - echo $TRAVIS_OS_NAME
    - |
      if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then
        sudo apt-get -qq update;
        sudo apt-get install -y
          libogg-dev
          libportmidi-dev
          libsdl-image1.2-dev
          libsdl-mixer1.2-dev
          libsdl-ttf2.0-dev
          libsdl1.2-dev
          libsoundtouch-dev
          libswscale-dev
          libtheora-dev
          libvorbis-dev
          portaudio19-dev;
      elif [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
        brew update;
        brew install
          libogg
          libtheora
          libvorbis
          portaudio
          portmidi
          sdl
          sdl_image
          sdl_mixer
          sdl_ttf;
      fi

install:
    - pip install pytest
    - pip install cython
    - pip install -r requirements.txt
    - python setup.py build_ext --inplace --force

script:
    - pytest
